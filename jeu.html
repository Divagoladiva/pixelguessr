<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Guessr</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <button id="new-word-btn">Nouveau</button>
        <div id="word-display"></div>
        <div id="image-container"></div>
    </div>

    <script src="liste.js"></script>
    <script>
        const newWordBtn = document.getElementById('new-word-btn');
        const wordDisplay = document.getElementById('word-display');
        const imageContainer = document.getElementById('image-container');

        newWordBtn.addEventListener('click', getNewWord);

        function getNewWord() {
            const randomWord = words[Math.floor(Math.random() * words.length)];
            wordDisplay.innerHTML = `Mot: ${randomWord}`;
            fetchImage(randomWord);
        }

        function fetchImage(word) {
            const apiKey = 'hqpPkwEsVPGOmZt7TFlJMSRBv0PtDdjZtDwN2OMgxem3mPQ3ZkJgo4oN';
            const apiUrl = `https://api.pexels.com/v1/search?query=${word}&per_page=1`;

            fetch(apiUrl, {
                headers: {
                    'Authorization': apiKey
                }
            })
            .then(response => response.json())
            .then(data => {
                const imageUrl = data.photos[0]?.src?.medium; // Utilisation d'une taille d'image plus petite
                if (imageUrl) {
                    imageContainer.innerHTML = `<img src="${imageUrl}" alt="${word}" class="image">`;
                } else {
                    imageContainer.innerHTML = 'Aucune image trouvée pour ce mot.';
                }
            })
            .catch(error => {
                console.error('Erreur lors de la récupération de l\'image:', error);
                imageContainer.innerHTML = 'Erreur lors de la récupération de l\'image.';
            });
        }
    </script>
</body>
</html>
